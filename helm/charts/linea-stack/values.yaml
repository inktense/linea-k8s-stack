global:
  imagePullPolicy: IfNotPresent
  namespace: default

  livenessProbe:
    enabled: true
    httpGet:
      path: /metrics
      port: metrics
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  readinessProbe:
    enabled: true
    httpGet:
      path: /metrics
      port: metrics
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1


sequencer:
  enabled: true
  name: "sequencer"
  replicas: 1

  image:
    repository: consensys/linea-besu-package
    tag: "beta-v4.0-rc20-20251104100707-3294a02"

  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 1Gi
  persistence:

    enabled: true
    size: 10Gi
    storageClass: "" # leave empty to use default

  service:
    rpcPort: 8545
    enginePort: 8550
    wsPort: 8546
    metricsPort: 9545
    type: ClusterIP
  
  env: {}

  customLivenessProbe: {}
  customReadinessProbe: {}

  statefulsetAnnotations: {}
  

  podAnnotations: {}

  p2pKeySecretName: "linea-stack-sequencer-p2p-key"
  enode: "14408801a444dafc44afbccce2eb755f902aed3b5743fed787b3c790e021fef28b8c827ed896aa4e8fb46e22bd67c39f994a73768b4b382f8597b0d44370e15d"

maru:
  enabled: true
  name: "maru"
  replicas: 1

  image:
    repository: consensys/maru
    tag: "0f6dc85"

  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1
      memory: 1Gi

  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""

  service:
    httpPort: 8080
    metricsPort: 9545
    type: ClusterIP

  env: {}

  customLivenessProbe: {}
  customReadinessProbe: {}

  statefulsetAnnotations: {}
  
  podAnnotations: {}

  p2pKeySecretName: "linea-stack-maru-p2p-key"
  p2pKeySecretValues: ""

besu:
  enabled: true
  name: "besu"
  replicas: 1

  image:
    repository: consensys/linea-besu-package
    tag: "beta-v4.0-rc20-20251104100707-3294a02"

  command: ["besu-untuned"]

  service:
    type: LoadBalancer           
    rpcPort: 8545
    enginePort: 8550
    wsPort: 8546
    metricsPort: 9545
  
  env: {}

  customLivenessProbe: {}
  customReadinessProbe: {}

  statefulsetAnnotations: {}
  
  podAnnotations: {}
  
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2
      memory: 4Gi

  persistence:
    enabled: true
    size: 50Gi
    storageClass: ""

  hpa:
    enabled: true
    minReplicas: 1
    maxReplicas: 3
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 70

ethstats:
  enabled: true
  name: "ethstats"
  replicas: 1

  image:
    repository: consensys/linea-ethstats-server
    tag: "7422b2a-1730387766"

  service:
    type: LoadBalancer
    port: 3000

  env:
    WS_SECRET: "12345"
  
  customLivenessProbe:
    enabled: true
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  customReadinessProbe:
    enabled: true
    httpGet:
      path: /
      port: 3000
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  deploymentAnnotations: {}
  
  podAnnotations: {}

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi


metrics:
  serviceMonitor:
    enabled: true
    namespace: monitoring
    releaseLabel: monitoring
    interval: 15s
    scrapeTimeout: 10s
    additionalLabels: {}

backup:
  enabled: false  # Set to true after configuring S3 credentials
  schedule: "0 */6 * * *"  # Every 6 hours (cron format)
  retention: 7  # Keep last 7 backups
  compression: true
  
  storage:
    type: s3  # S3 storage
    bucket: "linea-backups"  # S3 bucket name
    endpoint: ""  # Optional: For S3-compatible storage (MinIO, etc.), leave empty for AWS S3
    region: "us-east-1"  # AWS region
    path: "linea-stack"  # Path prefix in bucket
  
  credentialsSecret:
    name: "linea-stack-backup-credentials"
    # Secret must contain:
    # - AWS_ACCESS_KEY_ID
    # - AWS_SECRET_ACCESS_KEY
  
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi


txSender:
  enabled: true
  name: "tx-sender"
  replicas: 1

  image:
    repository: bibi12/linea-tx-sender
    tag: "v1.0.2"
  
  deploymentAnnotations: {}
    # Example:
    # deployment.kubernetes.io/revision: "1"
  
  podAnnotations: {}
  
  secrets:
    secretName: "linea-stack-tx-sender-secrets"

  env: {}

  customLivenessProbe:
    enabled: true
    httpGet:
      path: /health
      port: 8080
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  customReadinessProbe:
    enabled: true
    httpGet:
      path: /health
      port: 8080
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi

  rpc:
    port: 8545
  interval: 1
  amount: 10

